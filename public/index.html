<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Village Game</title>
    <link rel="stylesheet" href="style.css" />
    <script type="importmap">
      {
        "imports": {
          "phaser": "https://cdn.jsdelivr.net/npm/phaser@3.90.0/dist/phaser.esm.min.js",
          "firebase/app": "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js",
          "firebase/auth": "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js",
          "firebase/database": "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js"
        }
      }
    </script>
  </head>
  <body>
    <div id="game"></div>
    <div id="ui" style="display: none;">
      <div id="login-form">
        <h2>Login</h2>
        <input type="text" id="login-email" placeholder="Username or Email" />
        <input type="password" id="login-password" placeholder="Password" />
        <button id="login-button">Login</button>
        <p>Don't have an account? <a href="#" id="show-signup"><u>Sign up</u></a></p>
      </div>
      <div id="signup-form" style="display: none;">
        <h2>Sign Up</h2>
        <input type="text" id="signup-username" placeholder="Username" />
        <input type="email" id="signup-email" placeholder="Email" />
        <input type="password" id="signup-password" placeholder="Password" />
        <input type="password" id="signup-confirm-password" placeholder="Confirm Password" />
        <button id="signup-button">Sign Up</button>
        <p>Already have an account? <a href="#" id="show-login"><u>Login</u></a></p>
      </div>
      <div id="village-lobby" style="display: none;">
        <h2>Village Lobby</h2>
        <div id="my-villages-list">
          <h3>My Villages</h3>
          <!-- Village list will be populated here -->
        </div>
        <div id="join-village-form">
          <input type="text" id="join-village-id" placeholder="Village ID to Join" />
          <button id="join-village-button">Join Village</button>
        </div>
        <button id="create-village-button">Create New Village</button>
      </div>
      <!-- Avatar Customization (for new users) -->
      <div id="avatar-customization-menu" style="display: none;">
        <h2>Create Your Villager</h2>
        <div class="customization-column">
          <div class="avatar-select">
            <button id="ac-prev-avatar" class="arrow-btn arrow-left" aria-label="Previous avatar" style="background-image: url('assets/Arrow.png');"></button>
            <img id="ac-avatar-preview" src="assets/ArabCharacter_idle.png" alt="Avatar Preview">
            <button id="ac-next-avatar" class="arrow-btn" aria-label="Next avatar" style="background-image: url('assets/Arrow.png');"></button>
          </div>
        </div>
        <button id="ac-confirm-button">Confirm</button>
      </div>
      <!-- House Customization (for new villages) -->
      <div id="house-customization-menu" style="display: none;">
        <h2>Choose Your House</h2>
        <div class="customization-column">
          <h3>House</h3>
          <div class="house-select">
            <button id="hc-prev-house" class="arrow-btn arrow-left" aria-label="Previous house" style="background-image: url('assets/Arrow.png');"></button>
            <img id="hc-house-preview" src="assets/House1.png" alt="House Preview" />
            <button id="hc-next-house" class="arrow-btn" aria-label="Next house" style="background-image: url('assets/Arrow.png');"></button>
          </div>
          <p id="hc-house-name">Cozy Cottage</p>
        </div>
        <button id="hc-confirm-button">Confirm</button>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
